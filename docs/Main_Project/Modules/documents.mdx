# Document Configuration

This document defines the configuration and routing for all CRUD modules in the system.  
There is **one main document file** which registers all the documents and their respective schema references.  
This file is also referenced in `app_config` and is responsible for redirecting to the correct document definitions.

---

## Main Document File Example

```yaml
- schema_id: product_more_info_schema
  schema_dsl_file: ./config/cloud_erp/modules/product/schema/product_more_info_schema.yaml
- schema_id: barcode_master_schema
  schema_dsl_file: ./config/cloud_erp/modules/product/schema/barcode_master_schema.yaml
- schema_id: mast_group_schema
  schema_dsl_file: ./config/cloud_erp/modules/product/schema/mast_group_schema.yaml
- schema_id: mast_sub_group_schema
```

## Document Details

Each `schema_id` maps to a schema YAML file which contains the detailed structure and validation rules for that module.

Taking `product_more_info_schema` as an example, each document has the following properties:

| Property        | Description |
|-----------------|-------------|
| `doc_id`        | Unique identifier for the document. |
| `module_id`     | The module this document belongs to. |
| `submodule_id`  | Submodule name. Can be the same as `doc_id`. |
| `doc_type`      | Type of document. Usually `crud`. |
| `update_type`   | Type of operation: <br> - `master` <br> - `master-detail` (header + tran) <br> - `multi-master` (bulk insert with multiple headers and trans) |
| `schema_id`     | Reference to the schema defined in the schema YAML. |
| `data_tables`   | Actual database tables used for this document. |
| `routes`        | API function name (base URL comes from system config). |
| `methods`       | HTTP methods allowed: `GET`, `POST`, `PUT`, `DELETE`. |
| `operations`    | CRUD operations: <br> - `read` <br> - `create` <br> - `update` <br> - `delete` <br> - `list` |


```yaml

doc_id: product_more_info
module_id: product
submodule_id: product_more_info
doc_type: crud
update_type: master
schema_id: product_more_info_schema
data_tables:
  - table_id: product_more_info
routes:
  - path: /product_more_info
    methods:
      - GET
      - POST
      - PUT
      - DELETE
    operations:
      - read
      - create
      - update
      - delete
      - list

```

## Explanation

- The `routes.path` is appended to the base URL defined in system configuration.  
  **Example:**  
http://localhost:8805/crudapi/cloudERP/product_more_info


```javascript

- `methods` define which HTTP methods are allowed on this route.  
Examples: `GET`, `POST`, `PUT`, `DELETE`

- `operations` define the logical actions available on this document.  
Examples: `read`, `create`, `update`, `delete`, `list`

```